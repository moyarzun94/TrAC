# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Admission {
  active: Boolean!
  final_test: Float
  initial_test: Float
  type_admission: String!
}

type AuthResult {
  error: String
  token: String
  user: User
}

type BandColor {
  color: String!
  max: Float!
  min: Float!
}

type Course {
  bandColors: [BandColor!]!
  code: String!
  credits: [Credit!]!
  flow: [Course!]!
  historicalDistribution: [DistributionValue!]!

  """
  Course-Semester-Curriculum-Program ID
  """
  id: Int!
  mention: String!
  name: String!
  requisites: [Course!]!
}

type Credit {
  label: String!
  value: Int!
}

type Curriculum {
  id: String!
  semesters: [Semester!]!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type DistributionValue {
  label: String!
  value: Int!
}

type Dropout {
  active: Boolean!
  explanation: String
  model_accuracy: Float
  prob_dropout: Float
}

"""
A field whose value conforms to the standard internet email address format as specified in RFC822: https://www.w3.org/Protocols/rfc822/.
"""
scalar EmailAddress

type Employed {
  description: String
  educational_system: String
  employed: Boolean!
  institution: String
  months_to_first_job: Float
}

type ExternalEvaluation {
  bandColors: [BandColor!]!
  code: String!
  historicalDistribution: [DistributionValue!]!

  """
  ExternalEvaluation-Semester-Curriculum-Program ID
  """
  id: Int!
  mention: String!
  name: String!
}

type FeedbackAnswer {
  answer: String!
  question: FeedbackQuestion!
}

input FeedbackAnswerInput {
  form: Int!
  questions: [FeedbackAnswerQuestionInput!]!
}

input FeedbackAnswerQuestionInput {
  answer: String!
  question: Int!
}

type FeedbackForm {
  id: Int!
  name: String!
  priority: Int!
  questions: [FeedbackQuestion!]!
}

type FeedbackQuestion {
  id: Int!
  options: [FeedbackQuestionOption!]!
  priority: Int!
  question: String!
  type: FeedbackQuestionType!
}

type FeedbackQuestionOption {
  text: String!
  value: Int!
}

input FeedbackQuestionOptionInput {
  text: String!
  value: Int!
}

"""
Type of question in a feedback form
"""
enum FeedbackQuestionType {
  MultipleAnswer
  OpenText
  SingleAnswer
}

type FeedbackResult {
  answers: [FeedbackAnswer!]!
  form: FeedbackForm!
  timestamp: DateTime!
  user: User!
}

type IndirectTakeCourse {
  course: Course!
  requisitesUnmet: [String!]!
}

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject
  @specifiedBy(
    url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf"
  )

type LockedUserResult {
  mailResult: JSONObject!
  users: [User!]!
}

type MultipleLockedUserResult {
  mailResults: [JSONObject!]!
  users: [User!]!
}

type Mutation {
  addUsersPrograms(user_programs: [UserProgram!]!): [User!]!
  answerFeedbackForm(answer: FeedbackAnswerInput!): Boolean!
  deleteUser(email: EmailAddress!): Int!
  directTakeCourses(program_id: String, student_id: String): [Course!]!
  editConfig(name: String!, value: String!): JSONObject!
  feedbackResultsCsv: String!
  indirectTakeCourses(
    program_id: String
    student_id: String
  ): [IndirectTakeCourse!]!
  lockMailUser(email: EmailAddress!): LockedUserResult!
  login(email: EmailAddress!, password: String!): AuthResult!
  logout: Boolean!
  mailAllLockedUsers: [JSONObject!]!
  performanceLoadAdvices(
    program_id: String
    student_id: String
  ): [PerformanceByLoad!]!
  program(id: String, student_id: String): Program!
  resetDataLoadersCache: Int!
  resetPersistence(user: String!): Int!
  setPersistenceValue(data: JSONObject!, key: String!): Persistence!
  student(program_id: String, student_id: String): Student
  track(data: String!, datetime_client: DateTime!): Boolean!
  unlock(
    email: EmailAddress!
    password: String!
    unlockKey: String!
  ): AuthResult!
  updateUserPrograms(userPrograms: UpdateUserPrograms!): [User!]!
  upsertUsers(users: [UpsertedUser!]!): [User!]!
}

type PerformanceByLoad {
  adviceParagraph: String!
  adviceTitle: String!
  clusterLabel: String!
  failRateHigh: Int!
  failRateLow: Int!
  failRateMid: Int!
  id: Int!
  isStudentCluster: Boolean!
  loadUnit: PerformanceLoadUnit!
  lowerBoundary: Float!
  upperBoundary: Float!
}

"""
Unit used to distinguish load in the foreplan
"""
enum PerformanceLoadUnit {
  Credits
}

type Persistence {
  data: JSONObject!
  key: String!
  timestamp: DateTime!
  user: String!
}

type Program {
  active: Boolean!
  curriculums: [Curriculum!]!
  desc: String!
  id: String!
  lastGPA: Float!
  name: String!
}

type Query {
  """
  Check unlockKey combination, if it's valid, returns null, if it's invalid, returns an error message.
  """
  checkUnlockKey(email: EmailAddress!, unlockKey: String!): String
  config: JSONObject!
  currentUser: AuthResult
  feedbackResults(user_ids: [String!]): [FeedbackResult!]!
  getPersistenceValue(key: String!): Persistence
  myPrograms: [Program!]!
  programs: [Program!]!
  students(last_n_years: Int = 2, program_id: String!): [Student!]!
  students_filter(curriculum: String!, program_id: String!): [Student!]!
  trackInfo(maxDate: DateTime!, minDate: DateTime!): [Track!]!
  unansweredForm: FeedbackForm
  userPersistences(user: String!): [Persistence!]!
  users: [User!]!
}

type Semester {
  courses: [Course!]!
  externalEvaluations: [ExternalEvaluation!]!
  id: Int!
}

"""
Possible states of a taken course
"""
enum StateCourse {
  Canceled
  Current
  Failed
  Passed
  Pending
}

type Student {
  admission: Admission!
  curriculums: [String!]!
  dropout: Dropout
  employed: Employed!
  id: ID!
  mention: String!
  n_courses_cycles: [Float!]!
  n_cycles: [String!]!
  name: String!
  programs: [Program!]!
  progress: Float!
  start_year: Int!
  state: String!
  terms: [Term!]!
}

type TakenCourse {
  bandColors: [BandColor!]!
  code: String!
  currentDistribution: [DistributionValue!]!
  equiv: String!
  grade: Float!
  id: Int!
  name: String!
  parallelGroup: Int!
  registration: String!
  state: StateCourse!
}

type TakenExternalEvaluation {
  bandColors: [BandColor!]!
  code: String!
  currentDistribution: [DistributionValue!]!
  grade: Float!
  id: Int!
  name: String!
  parallelGroup: Int!
  registration: String!
  state: StateCourse!
}

type Term {
  comments: String
  cumulated_grade: Float!
  id: Int!
  program_grade: Float!
  semestral_grade: Float!
  situation: String!
  student_id: String!
  takenCourses: [TakenCourse!]!
  takenExternalEvaluations: [TakenExternalEvaluation!]!
  term: TermType!
  year: Int!
}

"""
Possible states of a term, first semester, second semester or anual
"""
enum TermType {
  Anual
  First
  Second
}

type Track {
  app_id: String!
  data: String!
  datetime: DateTime!
  datetime_client: DateTime!
  id: Int!
  user_id: String!
}

input UpdateUserPrograms {
  email: EmailAddress!
  oldPrograms: [String!]!
  programs: [String!]!
}

input UpsertedUser {
  config: JSONObject
  email: EmailAddress!
  locked: Boolean = true
  name: String = "default_name"
  oldEmail: EmailAddress
  student_id: String = ""
  tries: Int = 0
  type: UserType = Student
}

type User {
  admin: Boolean!
  config: JSONObject!
  email: EmailAddress!
  locked: Boolean!
  name: String!
  programs: [Program!]!
  student_id: String!
  studentIdValid: Boolean
  tries: Int!
  type: UserType!
  unlockKey: String!
}

input UserProgram {
  email: EmailAddress!
  program: String!
}

"""
Possible options of an user type
"""
enum UserType {
  Director
  Student
}
